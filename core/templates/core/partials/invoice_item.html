{% load humanize %}
<li id="invoice-{{ invoice.id }}"
    class="py-5 px-6 transition-colors duration-200
           hover:bg-gray-50 dark:hover:bg-gray-800/40 rounded-lg">

    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">

        <!-- Left: Status + Title + Client -->
        <div class="flex items-center gap-4">
            <!-- Status Badge -->
            <span class="px-2.5 py-1 text-xs font-semibold rounded-full
                         {% if invoice.status == 'PAID' %} bg-lime-100 text-lime-800 dark:bg-lime-900/40 dark:text-lime-300
                         {% elif invoice.status == 'SENT' %} bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-300
                         {% else %} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300 {% endif %}">
                {{ invoice.get_status_display }}
            </span>

            <div>
                <p class="text-lg font-semibold text-gray-900 dark:text-white leading-tight">
                    {{ invoice.title }}
                </p>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                    To: {{ invoice.client.name }} &middot; #{{ invoice.invoice_number }}
                </p>
            </div>
        </div>

        <!-- Right: Amount + Actions -->
        <div class="flex items-center gap-6">
            <p class="text-xl font-bold text-gray-800 dark:text-gray-200 whitespace-nowrap">
                â‚¬{{ invoice.amount|floatformat:2|intcomma }}
            </p>

            <div class="flex items-center gap-2">
                <!-- PDF LINK -->
                <a href="{% url 'invoice-pdf' invoice.id %}" target="_blank"
                   class="px-3 py-1 rounded-lg bg-gray-500/80 text-white
                          hover:bg-gray-600 transition-all duration-200 text-sm font-medium shadow-sm">
                    PDF
                </a>

                <!-- EDIT BUTTON -->
                <button
                    hx-get="{% url 'invoice-edit' invoice.id %}"
                    hx-target="#invoice-{{ invoice.id }}"
                    hx-swap="outerHTML"
                    class="px-3 py-1 rounded-lg bg-indigo-500/80 text-white
                           hover:bg-indigo-600 transition-all duration-200 text-sm font-medium shadow-sm">
                    Edit
                </button>

                <!-- DELETE BUTTON -->
                <button
                    hx-delete="{% url 'invoice-delete' invoice.id %}"
                    hx-target="#invoice-{{ invoice.id }}"
                    hx-swap="outerHTML"
                    hx-confirm="Are you sure?"
                    class="px-3 py-1 rounded-lg bg-rose-600/80 text-white
                           hover:bg-rose-700 transition-all duration-200 text-sm font-medium shadow-sm">
                    Delete
                </button>
            </div>
        </div>
    </div>
</li>
